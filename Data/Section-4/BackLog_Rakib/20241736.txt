#include<stdio.h>
#include<math.h>
#define INT long long
#define bug printf("hi\n");
using namespace std;

int main()
{
    INT i,j,k,n,m,a,p,q,x,y,b,c,sum,res,row_ind,col_ind,flag,num[505][505];
    while(scanf("%I64d",&n)==1)
    {
        for(i=1;i<=n;i++)
        {
            for(j=1;j<=n;j++)
            {
                scanf("%I64d",&num[i][j]);
                if(num[i][j]==0)
                {
                    row_ind=i;
                    col_ind=j;
                }
            }
        }
        res=flag=0;
        if(row_ind==1)
            a=2;
        else
            a=1;
        for(j=1;j<=n;j++)
            res+=num[a][j];
        for(i=1;i<=n;i++)
        {
            sum=0;
            if(i==row_ind)
                continue;
            for(j=1;j<=n;j++)
                sum+=num[i][j];
            if(sum!=res)
            {
                flag=1;
                break;
            }
        }
        if(flag==1)
        {
            printf("-1\n");
            continue;
        }
        for(j=1;j<=n;j++)
        {
            sum=0;
            if(j==col_ind)
                continue;
            for(i=1;i<=n;i++)
                sum+=num[i][j];
            if(sum!=res)
            {
                flag=1;
                break;
            }
        }
        if(flag==1)
        {
            printf("-1\n");
            continue;
        }
        a=0;
        for(i=1;i<=n;i++)
            a+=num[row_ind][i];
        p=res-a;
        b=0;
        for(i=1;i<=n;i++)
            b+=num[i][col_ind];
        q=res-b;
        if(p!=q)
        {
            printf("-1\n");
            continue;
        }
        sum=0;
        for(i=1;i<=n;i++)
            sum+=num[i][i];
        if(row_ind==col_ind)
        {
            if(a!=sum)
            {
                printf("-1\n");
                continue;
            }
        }
        else if(sum!=res)
        {
            printf("-1\n");
            continue;
        }
        sum=0;
        for(i=n,j=1;j<=n;j++,i--)
            sum+=num[i][j];
        if(row_ind==n+1-col_ind)
        {
            if(a!=sum)
            {
                printf("-1\n");
                continue;
            }
        }
        else if(sum!=res)
        {
            printf("-1\n");
            continue;
        }
        printf("%I64d\n",p);
    }
    return 0;
}
