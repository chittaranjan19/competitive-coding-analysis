#include <bits/stdc++.h>using namespace std;int n,m,i,j,ii,jj,x,y,z,prv,r,k[44],c[44],p[44];vector<pair<int, int> > w[100100];vector<int> v[44];int main() {  for (i=2; i<=40; i++) for (x=i, j=2; j<=x; j++) if (x%j==0) {    v[i].push_back(j);    for (x/=j; x%j==0; x/=j);  }  scanf("%d%d",&n,&m);  for (i=0; i<n; i++) {    scanf("%d",&k[i]);    for (j=0; j<k[i]; j++) {      scanf("%d",&x);      w[x].push_back(make_pair(i,j));    }  }  for (x=1; x<=m; x++) {    int wxs=w[x].size();    for (r=ii=jj=0; ii<wxs; ii++) {      i=w[x][ii].first;      for (; jj<wxs; jj++) {        j=w[x][jj].first;        if (jj!=ii && j!=prv+1) break;        z=w[x][jj].second;        bool ok=true;        for (const auto& e: v[k[j]]) if (c[e]>0 && p[e]!=z%e) { ok=false; break; }        if (!ok) break;        for (const auto& e: v[k[j]]) if (c[e]>0) c[e]++; else { c[e]=1; p[e]=z%e; }        prv=j;      }      r=max(r,jj-ii);      for (auto& e: v[k[i]]) c[e]--;    }    printf("%d\n",r);  }  return 0;}